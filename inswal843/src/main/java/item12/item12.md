## Item 12: toString을 항상 재정의하라

Object의 기본 toString 메서드는 **클래스_이름@16진수로_표시한_해시코드** 형태의, 사람이 읽기 어려운 문자열을 반환한다. toString을 재정의하면 클래스에 대한 **유용하고 읽기 쉬운 정보**를 제공할 수 있어 디버깅과 로깅에 매우 큰 도움이 된다.

---

### 1. toString을 재정의해야 하는 이유

- **디버깅의 효율성:** `System.out.println(myObject)`을 호출하거나 디버거에서 객체를 볼 때, toString이 반환하는 값은 객체의 현재 상태를 파악하는 데 결정적인 역할을 한다. 재정의하지 않으면 객체의 내용을 전혀 알 수 없다.
- **로깅의 가독성:** 로그 메시지에 객체를 포함시키면 자동으로 toString이 호출된다. 잘 구현된 toString은 로그를 훨씬 더 유용하게 만든다.
- **개발 편의성:** toString이 잘 구현된 객체는 그 자체로 설명이 가능하므로, 해당 객체를 사용하는 다른 개발자가 클래스의 핵심 정보를 쉽게 파악할 수 있다.

PhoneNumber 클래스의 예시

- **재정의 전:** PhoneNumber@1a46e30 -> 무슨 값인지 알 수 없다.
- **재정의 후:** 707-867-5309 -> 객체가 담고 있는 정보를 명확히 알 수 있다.

---

### 2. toString 구현 방법

toString을 구현할 때의 핵심은 **"객체가 가진 모든 주요 정보를 문자열로 표현하는 것"**이다.

```java
public final class PhoneNumber {
    private final short areaCode, prefix, lineNum;

    /**
     * 이 전화번호의 문자열 표현을 반환한다.
     * 이 문자열은 "XXX-YYY-ZZZZ" 형태의 12글자로 구성된다.
     * XXX는 지역 코드, YYY는 프리픽스, ZZZZ는 가입자 번호다.
     */
    @Override 
    public String toString() {
        return String.format("%03d-%03d-%04d", areaCode, prefix, lineNum);
    }
}
```

---

### 3. toString 포맷 결정 시 고려사항

toString이 반환하는 문자열의 포맷을 문서화 할지 여부는 중요한 결정이다.

- **포맷을 명시할 경우 (예: "XXX-YYY-ZZZZ"):**
    - **장점:** 표준적이고 명확해지므로 이 문자열을 파싱하여 다시 객체로 만들거나 CSV 데이터로 활용할 수 있다.
    - **단점:** 한번 포맷을 공개하면 **영원히 그 포맷에 얽매이게 된다.** 이를 사용하는 개발자들이 그 포맷을 기준으로 코드를 작성할 수 있기 때문에 이후에 수정이 거의 불가능하다.
- **포맷을 명시하지 않을 경우:**
    - **장점:** 향후 구현을 개선하거나 정보를 추가하는 등 **유연성**을 확보할 수 있다.
    - **단점:** 이 toString 값을 데이터로 활용하기는 어렵다.

**포맷을 명시하지 않는 것**이 더 나은 선택일 수도 있다. 포맷을 명시하고 싶다면, 그에 상응하는 **정적 팩터리 메서드나 생성자를 함께 제공**하여 문자열로부터 객체를 만들 수 있는 방법을 명확히 제시하는 것이 좋다.

---

### 요약

- Object의 toString은 거의 쓸모가 없으니, 만드는 모든 구체 클래스에서 **항상 재정의하라.**
- toString은 객체의 **핵심 정보를 간결하고 사람이 읽기 쉽게** 보여줘야 한다.
- 반환 값의 포맷을 문서화할지 신중히 결정하라.
- toString을 잘 구현하면 클래스를 사용하기 훨씬 즐거워지고 디버깅이 쉬워진다.
